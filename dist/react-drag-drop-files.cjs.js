"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("react/jsx-runtime"),r=require("react"),t=(e=require("styled-components"))&&"object"==typeof e&&"default"in e?e.default:e,o=function(){return o=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},o.apply(this,arguments)};function i(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function a(e){var r=e.types,t=e.minSize,i=e.maxSize;if(r){var a=r.toString(),s="";return i&&(s+="size >= "+i+", "),t&&(s+="size <= "+t+", "),n.jsx("span",o({title:s+"types: "+a,className:"file-types"},{children:a}),void 0)}return null}var s=0;function l(){return n.jsxs("svg",o({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[n.jsx("path",{d:"M5.33317 6.66667H22.6665V16H25.3332V6.66667C25.3332 5.196 24.1372 4 22.6665 4H5.33317C3.8625 4 2.6665 5.196 2.6665 6.66667V22.6667C2.6665 24.1373 3.8625 25.3333 5.33317 25.3333H15.9998V22.6667H5.33317V6.66667Z",fill:"#0658C2"},void 0),n.jsx("path",{d:"M10.6665 14.6667L6.6665 20H21.3332L15.9998 12L11.9998 17.3333L10.6665 14.6667Z",fill:"#0658C2"},void 0),n.jsx("path",{d:"M25.3332 18.6667H22.6665V22.6667H18.6665V25.3333H22.6665V29.3333H25.3332V25.3333H29.3332V22.6667H25.3332V18.6667Z",fill:"#0658C2"},void 0)]}),void 0)}var d,p,c,u,f=t.label(d||(d=i(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex-grow: 0;\n  padding: 8px 16px 8px 8px;\n  border-radius: 5px;\n  border: dashed 2px ",";\n  cursor: pointer;\n  &.is-disabled {\n    border: dashed 2px ",";\n    cursor: no-drop;\n    svg {\n      fill: ",";\n      color: ",";\n      path {\n        fill: ",";\n        color: ",";\n      }\n    }\n  }\n  & > input {\n    display: none;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex-grow: 0;\n  padding: 8px 16px 8px 8px;\n  border-radius: 5px;\n  border: dashed 2px ",";\n  cursor: pointer;\n  &.is-disabled {\n    border: dashed 2px ",";\n    cursor: no-drop;\n    svg {\n      fill: ",";\n      color: ",";\n      path {\n        fill: ",";\n        color: ",";\n      }\n    }\n  }\n  & > input {\n    display: none;\n  }\n"])),"#0658c2","#666","#666","#666","#666","#666"),v=t.div(p||(p=i(["\n  border: dashed 2px ",";\n  border-radius: 5px;\n  background-color: ",";\n  opacity: 0.5;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  & > span {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n  }\n"],["\n  border: dashed 2px ",";\n  border-radius: 5px;\n  background-color: ",";\n  opacity: 0.5;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  & > span {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateX(-50%) translateY(-50%);\n  }\n"])),"#666","#999"),x=t.div(c||(c=i(["\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 1;\n  & > span {\n    font-size: 12px;\n    color: ",";\n  }\n  .file-types {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    max-width: 100px;\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 1;\n  & > span {\n    font-size: 12px;\n    color: ",";\n  }\n  .file-types {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    max-width: 100px;\n  }\n"])),(function(e){return e.error?"red":"#666"})),h=t.span(u||(u=i(["\n  font-size: 14px;\n  color: ",";\n  span {\n    text-decoration: underline;\n  }\n"],["\n  font-size: 14px;\n  color: ",";\n  span {\n    text-decoration: underline;\n  }\n"])),"#666"),g=function(e,r,t,o){return t?n.jsx("span",{children:"File type/size error, Hovered on types!"},void 0):n.jsx(h,{children:o?n.jsx("span",{children:"Upload disabled"},void 0):e||r?n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Uploaded Successfully!."},void 0)," Upload another?"]},void 0):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Upload"},void 0)," or drop a file right here"]},void 0)},void 0)},b=function(e){return e/1e3/1e3};exports.FileUploader=function(e){var t=e.name,i=e.hoverTitle,d=e.types,p=e.handleChange,c=e.classes,u=e.children,h=e.maxSize,m=e.minSize,y=e.file,j=e.onSizeError,w=e.onSelect,z=e.onDrop,C=e.onTypeError,L=e.disabled,E=r.useRef(null),H=r.useRef(null),S=r.useState(!1),V=S[0],k=S[1],D=r.useState(null),F=D[0],P=D[1],T=r.useState(!1),O=T[0],R=T[1],U=function(e){return!!e&&(d&&!function(e,n){var r=e.type.toLocaleLowerCase(),t=r.lastIndexOf("/"),o=r.substring(t+1);return n.map((function(e){return e.toLowerCase()})).includes(o)}(e,d)?(R(!0),C&&C("File type is not supported"),!1):h&&b(e.size)>h?(R(!0),j&&j("File size is too big"),!1):m&&b(e.size)<m?(R(!0),j&&j("File size is too small"),!1):(p&&p(e),P(e),k(!0),R(!1),!0))},M=function(e){var n=e.labelRef,t=e.inputRef,o=e.handleChanges,i=e.onDrop,a=r.useState(!1),l=a[0],d=a[1],p=r.useCallback((function(){t.current.click()}),[t]),c=r.useCallback((function(e){e.preventDefault(),e.stopPropagation(),s++,e.dataTransfer.items&&0!==e.dataTransfer.items.length&&d(!0)}),[]),u=r.useCallback((function(e){e.preventDefault(),e.stopPropagation(),--s>0||d(!1)}),[]),f=r.useCallback((function(e){e.preventDefault(),e.stopPropagation()}),[]),v=r.useCallback((function(e){if(e.preventDefault(),e.stopPropagation(),d(!1),s=0,e.dataTransfer.files&&e.dataTransfer.files.length>0){var n=e.dataTransfer.files[0];o(n);var r=o(n);i&&r&&i(n),e.dataTransfer.clearData()}}),[o]);return r.useEffect((function(){var e=n.current;return e.addEventListener("click",p),e.addEventListener("dragenter",c),e.addEventListener("dragleave",u),e.addEventListener("dragover",f),e.addEventListener("drop",v),function(){e.removeEventListener("click",p),e.removeEventListener("dragenter",c),e.removeEventListener("dragleave",u),e.removeEventListener("dragover",f),e.removeEventListener("drop",v)}}),[p,c,u,f,v,n]),l}({labelRef:E,inputRef:H,handleChanges:U,onDrop:z});return r.useEffect((function(){y?(k(!0),P(y)):(k(!1),P(null))}),[y]),n.jsxs(f,o({className:(c||"")+" "+(L?"is-disabled":""),ref:E,htmlFor:t},{children:[n.jsx("input",{onChange:function(e){var n=e.target.files[0],r=U(n);w&&r&&w(n),e.target.value=null},ref:H,type:"file",name:t,disabled:L},void 0),M&&n.jsx(v,{children:n.jsx("span",{children:i||"Drop Here"},void 0)},void 0),!u&&n.jsxs(n.Fragment,{children:[n.jsx(l,{},void 0),n.jsxs(x,o({error:O},{children:[g(F,V,O,L),n.jsx(a,{types:d,minSize:m,maxSize:h},void 0)]}),void 0)]},void 0),u]}),void 0)};
